<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog - sushi.lab</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/src/css/variables.css">
  <link rel="stylesheet" href="/src/css/reset.css">
  <link rel="stylesheet" href="/src/css/base.css">
  <link rel="stylesheet" href="/src/css/components.css">
  <link rel="stylesheet" href="/src/css/animations.css">
  <link rel="stylesheet" href="/src/css/blog.css">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="container">
      <a href="/" class="header-logo">sushi<span class="logo-dot">.</span>lab</a>
      <nav class="header-nav">
        <a href="/">Home</a>
        <a href="/blog/" class="active">Blog</a>
        <a href="/tutorials/">Tutorials</a>
        <a href="/projects/">Projects</a>
        <a href="/about/">About</a>
      </nav>
      <div class="header-actions">
        <a href="https://github.com/shushankai" target="_blank" rel="noopener" aria-label="GitHub">
          <i data-lucide="github"></i>
        </a>
      </div>
    </div>
  </header>

  <!-- Blog Hero -->
  <section class="blog-hero" style="position: relative;">
    <div class="three-canvas-container" data-particles="40"></div>
    <div class="container" style="position: relative; z-index: 1;">
      <p class="section-label" data-animate="fade-up">The Lab Notebook</p>
      <h1 class="section-title" data-animate="fade-up" data-delay="100">Collections</h1>
      <p class="section-description" data-animate="fade-up" data-delay="200">Thoughts on AI research, technical deep dives, and insights from my journey in the world of technology.</p>
      <div class="search-filter-row" data-animate="fade-up" data-delay="300">
        <div class="search-box">
          <i data-lucide="search"></i>
          <input type="text" placeholder="Search articles..." id="blog-search">
        </div>
        <div class="filter-pills" id="blog-filters">
          <button class="filter-pill active" data-filter="all">All</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Blog Split Layout -->
  <section class="blog-split container">
    <!-- Left Sidebar -->
    <div class="blog-sidebar" id="blog-sidebar" data-animate="slide-right" data-stagger>
      <!-- Populated by JS -->
    </div>

    <!-- Right Preview Panel -->
    <div class="blog-preview blob-container" id="blog-preview" data-animate="slide-left">
      <div class="blob blob-pink" data-parallax="-0.04"></div>
      <div class="blob blob-yellow" data-parallax="0.06"></div>
      <div class="blob blob-green" data-parallax="-0.05"></div>
      <div class="blob blob-purple" data-parallax="0.03"></div>
      <div class="blog-preview-content" id="blog-preview-content">
        <!-- Populated by JS -->
      </div>
    </div>
  </section>

  <!-- Empty State -->
  <section class="container" id="blog-empty" style="display: none; text-align: center; padding: var(--space-16) 0;">
    <div style="max-width: 500px; margin: 0 auto;">
      <i data-lucide="pen-line" style="width: 48px; height: 48px; color: var(--color-text-muted); margin-bottom: var(--space-6);"></i>
      <h2 style="margin-bottom: var(--space-4); color: var(--color-text-heading);">Coming Soon</h2>
      <p style="color: var(--color-text-secondary); line-height: 1.7; margin-bottom: var(--space-6);">Blog posts from Substack will appear here once published. Subscribe on Substack to get notified.</p>
      <a href="https://shushankrecentendeavors.substack.com" target="_blank" rel="noopener" class="btn btn-primary">
        <i data-lucide="external-link"></i> Visit Substack
      </a>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-brand">
          <div class="footer-logo">sushi<span class="logo-dot">.</span>lab</div>
          <p class="footer-tagline">A living archive of explorations, experiments, and everything in between. Passionate about AI, ML, and pushing boundaries.</p>
          <div class="footer-social">
            <a href="https://github.com/shushankai" target="_blank" rel="noopener" aria-label="GitHub"><i data-lucide="github"></i></a>
            <a href="https://x.com/thisisshushank" target="_blank" rel="noopener" aria-label="Twitter"><i data-lucide="twitter"></i></a>
            <a href="https://www.linkedin.com/in/shushank-singh-251943201" target="_blank" rel="noopener" aria-label="LinkedIn"><i data-lucide="linkedin"></i></a>
            <a href="mailto:shushank.brain@gmail.com" aria-label="Mail"><i data-lucide="mail"></i></a>
          </div>
        </div>
        <div class="footer-column">
          <h4>Explore</h4>
          <ul>
            <li><a href="/blog/">Blog</a></li>
            <li><a href="/tutorials/">Tutorials</a></li>
            <li><a href="/projects/">Projects</a></li>
            <li><a href="/about/">About</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Connect</h4>
          <ul>
            <li><a href="https://github.com/shushankai" target="_blank" rel="noopener">GitHub</a></li>
            <li><a href="https://x.com/thisisshushank" target="_blank" rel="noopener">Twitter</a></li>
            <li><a href="https://www.linkedin.com/in/shushank-singh-251943201" target="_blank" rel="noopener">LinkedIn</a></li>
            <li><a href="mailto:shushank.brain@gmail.com">Email</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>More</h4>
          <ul>
            <li><a href="#">RSS Feed</a></li>
            <li><a href="#">Newsletter</a></li>
            <li><a href="#">Uses</a></li>
            <li><a href="#">Colophon</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-divider"></div>
      <div class="footer-bottom">
        <p class="footer-copyright">&copy; 2026 sushi.lab. All rights reserved.</p>
        <div class="footer-bottom-links">
          <a href="#">Privacy</a>
          <a href="#">Terms</a>
        </div>
      </div>
    </div>
  </footer>

  <script type="module" src="/src/js/main.js"></script>
  <script type="module">
    const GRADIENT_COLORS = [
      'linear-gradient(135deg, #FF6B6B, #FFE66D)',
      'linear-gradient(135deg, #4ECDC4, #44E5B5)',
      'linear-gradient(135deg, #7C3AED, #A78BFA)',
      'linear-gradient(135deg, #F59E0B, #FBBF24)',
      'linear-gradient(135deg, #EC4899, #F472B6)',
      'linear-gradient(135deg, #3B82F6, #60A5FA)',
      'linear-gradient(135deg, #059669, #4ECDC4)',
    ];

    const TAG_CLASSES = ['tag-accent', 'tag-purple', 'tag-green', 'tag-yellow', 'tag-default'];

    async function loadBlog() {
      const sidebar = document.getElementById('blog-sidebar');
      const previewContent = document.getElementById('blog-preview-content');
      const blogSplit = document.querySelector('.blog-split');
      const emptyState = document.getElementById('blog-empty');
      const filtersContainer = document.getElementById('blog-filters');

      let posts;
      try {
        const res = await fetch('/blog/_posts.json');
        posts = await res.json();
      } catch {
        posts = [];
      }

      if (!posts.length) {
        blogSplit.style.display = 'none';
        emptyState.style.display = 'block';
        if (window.__lucideInit) window.__lucideInit();
        return;
      }

      // Build filter pills from unique tags
      const allTags = [...new Set(posts.flatMap(p => p.tags || []))];
      allTags.forEach(tag => {
        const pill = document.createElement('button');
        pill.className = 'filter-pill';
        pill.dataset.filter = tag.toLowerCase();
        pill.textContent = tag;
        filtersContainer.appendChild(pill);
      });

      let activeFilter = 'all';
      let searchQuery = '';
      let selectedIndex = 0;

      function getFilteredPosts() {
        return posts.filter(p => {
          const matchesFilter = activeFilter === 'all' ||
            (p.tags || []).some(t => t.toLowerCase() === activeFilter);
          const matchesSearch = !searchQuery ||
            p.title.toLowerCase().includes(searchQuery) ||
            (p.description || '').toLowerCase().includes(searchQuery);
          return matchesFilter && matchesSearch;
        });
      }

      function updatePreview(post) {
        const dateStr = post.date ? new Date(post.date + 'T00:00:00').toLocaleDateString('en-US', {
          month: 'long', day: 'numeric', year: 'numeric'
        }) : '';
        const tags = (post.tags || []).map((t, i) =>
          `<span class="tag ${TAG_CLASSES[i % TAG_CLASSES.length]}">${t}</span>`
        ).join(' ');

        previewContent.innerHTML = `
          <p class="blog-preview-label">Featured Article</p>
          <h2 class="blog-preview-title">${post.title}</h2>
          <p class="blog-preview-desc">${post.description || ''}</p>
          <div class="blog-preview-meta">
            ${post.readTime ? `<span><i data-lucide="clock"></i> ${post.readTime}</span>` : ''}
            ${dateStr ? `<span><i data-lucide="calendar"></i> ${dateStr}</span>` : ''}
            ${tags ? `<span>${tags}</span>` : ''}
          </div>
          <a href="/blog/post.html?slug=${post.slug}" class="btn btn-primary" style="margin-top: var(--space-4);">
            Read Article <i data-lucide="arrow-right"></i>
          </a>
        `;
        if (window.__lucideInit) window.__lucideInit();
      }

      function renderSidebar() {
        const filtered = getFilteredPosts();
        if (!filtered.length) {
          sidebar.innerHTML = '<p style="color: var(--color-text-muted); padding: var(--space-4);">No posts match your search.</p>';
          previewContent.innerHTML = '';
          return;
        }

        selectedIndex = 0;
        sidebar.innerHTML = filtered.map((post, i) => `
          <div class="sidebar-card${i === 0 ? ' active' : ''}" data-index="${i}">
            <div class="sidebar-card-thumb" style="background: ${post.coverImage ? `url(${post.coverImage}) center/cover` : GRADIENT_COLORS[i % GRADIENT_COLORS.length]};"></div>
            <div class="sidebar-card-content">
              <h3 class="sidebar-card-title">${post.title}</h3>
              <p class="sidebar-card-desc">${post.description || ''}</p>
            </div>
          </div>
        `).join('');

        // Card click handlers
        sidebar.querySelectorAll('.sidebar-card').forEach((card, i) => {
          card.addEventListener('click', () => {
            sidebar.querySelectorAll('.sidebar-card').forEach(c => c.classList.remove('active'));
            card.classList.add('active');
            selectedIndex = i;
            updatePreview(filtered[i]);
          });
        });

        updatePreview(filtered[0]);
      }

      // Filter pill clicks
      filtersContainer.addEventListener('click', (e) => {
        const pill = e.target.closest('.filter-pill');
        if (!pill) return;
        filtersContainer.querySelectorAll('.filter-pill').forEach(p => p.classList.remove('active'));
        pill.classList.add('active');
        activeFilter = pill.dataset.filter;
        renderSidebar();
      });

      // Search input
      document.getElementById('blog-search').addEventListener('input', (e) => {
        searchQuery = e.target.value.toLowerCase().trim();
        renderSidebar();
      });

      renderSidebar();
    }

    loadBlog();
  </script>
</body>
</html>
